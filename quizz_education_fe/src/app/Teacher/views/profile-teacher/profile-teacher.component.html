<c-row>
  <c-col xs="12">
    <c-card class="mb-4">
      <c-card-body>
        <div class="modal-dialog modal-lg mbt-5">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title text-center mbt-5" id="exampleModalLabel">Thông tin tài khoản</h5>
            </div>
            <form [formGroup]="myForm">
              <div class="modal-body">

                <div class="row d-none d-sm-block">
                  <div class="col-md-12">
                    <div class="mb-3">
                      <div class="profile-header">
                        <div class="khung-cardQR">
                            <img class="imgQR" [src]="qrCodeImage" alt="QR Code">
                          </div>
                        <div class="background_profile">

                          <p class="text-center text-white pt-1">HỆ THỐNG THI TRẮC NGHIỆM <br><b>QUIZZ EDUCATION</b></p>
                          <p class="text-center"></p>
                          <img
                            src="https://firebasestorage.googleapis.com/v0/b/quizzeducation-eaea3.appspot.com/o/images%2Fcard-teacher.jfif?alt=media&token=8f3eec8a-0bcb-4638-9da1-f9cdbad739cf"
                            alt="" class="background_profile_img">
                        </div>
                        <div class="role_avata">
                          <div class="avata_profile">
                            <img (click)="openChangeImage()"
                              [src]="listItemStudent.anhDaiDien ? listItemStudent.anhDaiDien : defaultImage" alt=""
                              class="avata_profile_img">
                          </div>

                          <div class="role_profile">
                            <p class="title-card">THẺ GIÁO VIÊN</p>

                            <div class="d-flex"><label>
                                <i>Họ và tên/Name:</i></label>
                              <h5 style="color: #6858f1"> {{listItemStudent.hoVaTen}}</h5>
                            </div>

                            <div class="d-flex">
                              <label><i>Ngày sinh/DateOfBirth:</i></label>
                              <p style="color: #6858f1"> {{listItemStudent.ngaySinh | date:'dd/MM/yyyy'}}</p>

                            </div>



                            <div class="d-flex">
                              <label> <i>Vai trò/Role:</i></label>
                              <p style="color: #6858f1"> {{listItemStudent.vaiTro.tenVaiTro}}</p>
                            </div>
                            
                            <p class="footer-card">www.quizz.edu.vn</p>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="tenDangNhap" class="form-label">Tên đăng nhập</label>
                      <input type="text" class="form-control" formControlName="tenDangNhap"
                        placeholder="Nhập tên đăng nhập" required [readonly]="true">
                    </div>
                  </div>


                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="tenHocSinh" class="form-label">Họ và tên</label>
                      <input type="text" class="form-control" formControlName="tenHocSinh"
                        placeholder="Nhập tên học sinh" required
                        [ngClass]="{'error-input': myForm.get('tenHocSinh').invalid && myForm.get('tenHocSinh').touched}">

                      <small *ngIf="myForm.get('tenHocSinh').hasError('required') && myForm.get('tenHocSinh').touched"
                        class="error-message">Tên học sinh không được để
                        trống !</small>

                    </div>
                  </div>

                  <div class="col-md-6">
                    <label for="matKhau" class="form-label">Mật khẩu</label>
                    <div class=" flex justify-content-center">
                      <p-password [toggleMask]="true" formControlName="matKhau" placeholder="Nhập mật khẩu"
                        [ngClass]="{'error-input-ng': myForm.get('matKhau').invalid && myForm.get('matKhau').touched}">
                      </p-password>
                    </div>
                    <small *ngIf="myForm.get('matKhau').hasError('required') && myForm.get('matKhau').touched"
                      class="error-message">Mật khẩu không được để trống
                      trống !</small>
                    <small *ngIf="myForm.get('matKhau').hasError('minlength') && myForm.get('matKhau').touched"
                      class="error-message">Mật khẩu ít nhất 6 ký tự !</small>
                  </div>

                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="diaChi" class="form-label">Địa chỉ (Tỉnh / Thành phố)</label>
                      <input type="text" class="form-control" name="diaChi" formControlName="diaChi"
                        placeholder="Nhập địa chỉ" required
                        [ngClass]="{'error-input': myForm.get('diaChi').invalid && myForm.get('diaChi').touched}">
                      <small *ngIf="myForm.get('diaChi').hasError('required') && myForm.get('diaChi').touched"
                        class="error-message">Địa chỉ không được để trống !</small>

                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="formattedEndTime" class="form-label">Số điện thoại</label>
                      <div class="flex justify-content-center">
                        <p-inputMask mask="9999 999 999" name="soDienThoai" placeholder="Nhập số điện thoại"
                          formControlName="soDienThoai"
                          [ngClass]="{'error-input-ng': myForm.get('soDienThoai').invalid && myForm.get('soDienThoai').touched}">
                        </p-inputMask>
                      </div>
                      <small *ngIf="myForm.get('soDienThoai').hasError('required') && myForm.get('soDienThoai').touched"
                        class="error-message">Số điện thoại không được để trống !</small>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="formattedEndTime" class="form-label">Năm sinh</label>
                      <div class="flex justify-content-center ngaySinh">
                        <p-calendar name="ngaySinh" [showIcon]="true" placeholder="Chọn ngày sinh"
                          formControlName="ngaySinh" dateFormat="dd/mm/yy"
                          [ngClass]="{'error-input-date': myForm.get('ngaySinh').invalid && myForm.get('ngaySinh').touched}">
                        </p-calendar>
                      </div>
                      <small *ngIf="myForm.get('ngaySinh').hasError('required') && myForm.get('ngaySinh').touched"
                        class="error-message">Năm sinh không được để trống !</small>
                      <small
                        *ngIf="myForm.get('ngaySinh').hasError('invalidBirthDate') && myForm.get('ngaySinh').touched"
                        class="error-message">
                        Ngày sinh không được lớn hơn ngày hiện tại !
                      </small>

                    </div>
                  </div>


                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="diaChi" class="form-label">Email</label>
                      <input type="text" class="form-control" name="email" formControlName="email"
                        placeholder="Nhập địa chỉ email" required
                        [ngClass]="{'error-input': myForm.get('email').invalid && myForm.get('email').touched}">
                      <small *ngIf="myForm.get('email').hasError('required') && myForm.get('email').touched"
                        class="error-message">Địa chỉ email không được để trống !</small>
                      <small *ngIf="myForm.get('email').hasError('pattern') && myForm.get('email').touched"
                        class="error-message">Địa chỉ email sai định dạng !</small>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="canCuocCongDan" class="form-label">Căn cước công dân</label>
                      <div class="flex justify-content-center ngaySinh">
                        <p-inputMask mask="999999999999" id="canCuocCongDan" name="canCuocCongDan"
                          placeholder="Nhập căn cước công dân" formControlName="canCuocCongDan"
                          [ngClass]="{'error-input-ng': myForm.get('canCuocCongDan').invalid && myForm.get('canCuocCongDan').touched}">
                        </p-inputMask>
                      </div>
                      <small
                        *ngIf="myForm.get('canCuocCongDan').hasError('required') && myForm.get('canCuocCongDan').touched"
                        class="error-message">Căn cước công dân không được để trống !</small>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="formattedEndTime" class="form-label">Giới tính</label>
                      <div class="form-checkbox">
                        <div class="form-checkbox">
                          <div class="flex align-items-center">
                            <p-radioButton name="gioiTinh" [value]="true" formControlName="gioiTinh"></p-radioButton>
                            <label for="ingredient1">Nam</label>
                          </div>
                          <div class="flex align-items-center checkbox">
                            <p-radioButton name="gioiTinh" [value]="false" formControlName="gioiTinh"></p-radioButton>
                            <label for="ingredient2">Nữ</label>
                          </div>
                        </div>

                      </div>

                      <small *ngIf="myForm.get('gioiTinh').hasError('required') && myForm.get('gioiTinh').touched"
                        class="error-message">Vui lòng chọn giới tính !</small>
                    </div>
                  </div>


                  <div class="col-md-6">
                    <div class="mb-3">
                        <label for="anhDaiDien" class="form-label">Lớp chủ nhiệm</label>
                        <input type="text" class="form-control" name="anhDaiDien" [value]="listItemStudent.lopThi.tenLop" required [readonly]="true">
                      </div>
                  </div>

                </div>
              </div>

              <div class="modal-footer" style="margin-bottom: 20px;">
                <button class="btn btn-info" style="margin-right: 10px;" (click)="openChangeImage()">Đổi ảnh</button>

                <button class="btn btn-primary" pButton pRipple (click)="updateUser()">Cập nhật</button>
                <input id="changeImage" accept="image/*" type="file" (change)="saveNewProfilePic($event)" hidden>
                <p-toast></p-toast>
              </div>
            </form>
          </div>
        </div>

      </c-card-body>
    </c-card>
  </c-col>
</c-row>
